import{a as e,w as s,n as a,s as i,C as t,m as l,i as n,p as c,o,b as r,q as d,u as v,g as u,h as p,f as g,G as h,t as m,x as y,e as f,F as k,v as b,B as x}from"./index-xJ6XffpG.js";import{C as F}from"./ChatLayout.CCL7FMtt.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";const T=I({components:{ChatLayout:F},data:()=>({functionItems:[{name:"首页",icon:"🏠"},{name:"论文分析助手",icon:"📊",starred:!0},{name:"文本翻译助手",icon:"🌐"},{name:"科研问答助手",icon:"🔍"}],activeFunctionIndex:1,selectedFile:null,isAnalyzing:!1,analysisProgress:0,currentTask:"解析文档...",analysisResult:null,activeTabIndex:0,resultTabs:[{name:"文章要点",icon:"📌"},{name:"文章思路",icon:"🔄"},{name:"研究方向",icon:"🧭"},{name:"文章模型图",icon:"🔍"}]}),methods:{handleFunctionSelected(e){if(this.activeFunctionIndex=e,this.functionItems[e]){const s=this.functionItems[e].name;"首页"===s?a({url:"/pages/home/home"}):"文本翻译助手"===s?a({url:"/pages/translate/translate"}):"科研问答助手"===s&&l({url:"/pages/qa/qa"})}},handleSendMessage(e){},selectFile(){t({count:1,type:"file",extension:[".pdf"],success:e=>{this.selectedFile={path:e.tempFilePaths[0],name:e.tempFiles[0].name,size:e.tempFiles[0].size}},fail:e=>{console.error("选择文件失败:",e)}})},clearSelectedFile(){this.selectedFile=null},formatFileSize(e){if(0===e)return"0 B";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB"][s]},handleDragOver(e){e.target.classList.add("dragover")},handleDrop(e){e.target.classList.remove("dragover");const s=e.dataTransfer.files;if(s.length>0){const e=s[0];e.name.toLowerCase().endsWith(".pdf")?this.selectedFile={file:e,name:e.name,size:e.size}:i({title:"请选择PDF文件",icon:"none"})}},startAnalysis(){if(!this.selectedFile)return;this.isAnalyzing=!0,this.analysisProgress=0;const e=setInterval((()=>{this.analysisProgress<95&&(this.analysisProgress+=Math.floor(5*Math.random())+1,this.analysisProgress<20?this.currentTask="解析文档...":this.analysisProgress<40?this.currentTask="提取文章要点...":this.analysisProgress<60?this.currentTask="整理文章思路...":this.analysisProgress<80?this.currentTask="分析研究方向...":this.currentTask="生成文章模型图...")}),300);setTimeout((()=>{clearInterval(e),this.analysisProgress=100,this.isAnalyzing=!1,this.analysisResult=this.generateMockResult()}),5e3)},generateMockResult(){return{fileName:this.selectedFile.name,summary:"本论文探讨了人工智能在医疗诊断中的应用，通过深度学习模型实现了比传统方法更高的准确率。研究证明，结合医学专家知识的AI系统能够有效辅助医生进行诊断决策，降低误诊率。",purpose:"本研究旨在开发一种基于深度学习的医学图像诊断系统，提高罕见疾病的诊断准确率，并验证其在临床环境中的实用性。",methodology:"研究采用卷积神经网络(CNN)和迁移学习方法，使用超过5万张带标注的医学图像进行训练。通过与多家医院合作，收集了不同设备拍摄的真实医学图像，并由专家团队进行标注。",findings:"实验表明，所提出的模型在测试集上达到了92.8%的准确率，比传统的计算机辅助诊断方法高出15.3个百分点。在罕见疾病诊断方面，模型表现尤为突出，敏感性达到88.5%。",conclusion:"研究证明了深度学习技术在医疗诊断领域的巨大潜力，特别是在罕见疾病诊断方面。未来工作将进一步探索模型的可解释性，以及在更多临床场景中的应用。",structure:[{title:"引言",level:0,page:1},{title:"研究背景",level:1,page:1},{title:"研究目标",level:1,page:2},{title:"相关工作",level:0,page:3},{title:"医学图像诊断",level:1,page:3},{title:"深度学习在医疗领域的应用",level:1,page:4},{title:"方法",level:0,page:6},{title:"数据收集与处理",level:1,page:6},{title:"深度学习模型设计",level:1,page:8},{title:"训练与优化策略",level:1,page:10},{title:"实验结果",level:0,page:12},{title:"诊断准确率",level:1,page:12},{title:"与传统方法比较",level:1,page:14},{title:"临床验证",level:1,page:15},{title:"讨论",level:0,page:17},{title:"模型优势与局限性",level:1,page:17},{title:"临床应用前景",level:1,page:19},{title:"结论",level:0,page:21},{title:"参考文献",level:0,page:22}],keywords:{topics:["医学图像分析","深度学习","疾病诊断","人工智能辅助医疗","卷积神经网络","罕见疾病"],methods:["迁移学习","卷积神经网络","监督学习","交叉验证","多中心研究","临床验证"]},references:["Smith, J., & Johnson, A. (2020). Deep learning approaches for medical image analysis. Journal of Medical Imaging, 45(3), 112-128.","Chen, X., Wang, Y., & Li, Z. (2019). A survey on deep learning in medical image diagnosis. IEEE Transactions on Medical Imaging, 38(6), 1289-1302.","Wilson, M., & Davis, R. (2021). Transfer learning for rare disease identification. Medical Image Analysis, 67, 101845.","Brown, K., et al. (2018). Clinical validation of AI-assisted diagnostic systems. Nature Medicine, 24(9), 1559-1567.","Garcia, L., & Martinez, S. (2022). Explainable AI in healthcare: challenges and opportunities. Artificial Intelligence in Medicine, 124, 102158."]}},resetAnalysis(){this.analysisResult=null,this.selectedFile=null,this.activeTabIndex=0},exportResults(){i({title:"结果已导出",icon:"success"})},navigateToHistory(){a({url:"/pages/paper/history"})},handleSettingsClick(){a({url:"/pages/account/account"})},formatShortText:e=>e.length>50?e.substring(0,50)+"...":e}},[["render",function(a,i,t,l,F,I){const T=f,C=p,R=c("ChatLayout"),S=n;return o(),e(S,{class:"analysis-page"},{default:s((()=>[r(R,{ref:"chatLayout",appTitle:"科研助手",functionItems:F.functionItems,activeFunctionIndex:F.activeFunctionIndex,onFunctionSelected:I.handleFunctionSelected,onSendMessage:I.handleSendMessage,onSettingsClick:I.handleSettingsClick,showInputBar:!1},{"header-actions":s((()=>[r(C,{class:"action-button",onClick:I.navigateToHistory,title:"历史记录"},{default:s((()=>[r(T,{class:"action-icon"},{default:s((()=>[g("📋")])),_:1})])),_:1},8,["onClick"])])),default:s((()=>[d("div",{class:"analysis-container"},[F.isAnalyzing||F.analysisResult?u("",!0):(o(),v("div",{key:0,class:"upload-section"},[d("div",{class:"card main-card"},[d("div",{class:"card-title"},"论文分析助手"),d("div",{class:"card-content"},[d("div",{class:"upload-area"},[d("div",{class:"upload-icon"},"📄"),d("div",{class:"upload-title"},"上传论文"),d("div",{class:"upload-desc"},"选择PDF格式的论文进行智能分析"),d("div",{class:"upload-actions"},[r(C,{class:"primary-button",onClick:I.selectFile},{default:s((()=>[g(" 选择文件 ")])),_:1},8,["onClick"])]),d("div",{class:"drop-zone",onDragover:i[0]||(i[0]=h(((...e)=>I.handleDragOver&&I.handleDragOver(...e)),["prevent"])),onDrop:i[1]||(i[1]=h(((...e)=>I.handleDrop&&I.handleDrop(...e)),["prevent"]))},[d("div",{class:"drop-icon"},"📥"),d("div",{class:"drop-text"},"拖放文件到此处")],32)]),F.selectedFile?(o(),v("div",{key:0,class:"file-info"},[d("div",{class:"file-icon"},"📄"),d("div",{class:"file-details"},[d("div",{class:"file-name"},m(F.selectedFile.name),1),d("div",{class:"file-size"},m(I.formatFileSize(F.selectedFile.size)),1)]),r(C,{class:"remove-button",onClick:I.clearSelectedFile},{default:s((()=>[g(" ✕ ")])),_:1},8,["onClick"])])):u("",!0)]),d("div",{class:"features-grid"},[d("div",{class:"feature-item"},[d("div",{class:"feature-icon"},"📌"),d("div",{class:"feature-text"},"提取文章要点")]),d("div",{class:"feature-item"},[d("div",{class:"feature-icon"},"🔄"),d("div",{class:"feature-text"},"整理文章思路")]),d("div",{class:"feature-item"},[d("div",{class:"feature-icon"},"🧭"),d("div",{class:"feature-text"},"分析研究方向")]),d("div",{class:"feature-item"},[d("div",{class:"feature-icon"},"🔍"),d("div",{class:"feature-text"},"生成文章模型图")])]),d("div",{class:"action-section"},[r(C,{class:"analyze-button",onClick:I.startAnalysis,disabled:!F.selectedFile||F.isAnalyzing},{default:s((()=>[g(" 开始分析 ")])),_:1},8,["onClick","disabled"])])])])),F.isAnalyzing?(o(),v("div",{key:1,class:"analyzing-state"},[d("div",{class:"card"},[d("div",{class:"analyzing-content"},[d("div",{class:"spinner"}),d("div",{class:"analyzing-title"},"正在分析论文"),d("div",{class:"analyzing-desc"},"这可能需要几分钟时间，请耐心等待"),d("div",{class:"progress-bar"},[d("div",{class:"progress-fill",style:y({width:`${F.analysisProgress}%`})},null,4)]),d("div",{class:"progress-text"},m(F.analysisProgress)+"%",1),d("div",{class:"current-task"},m(F.currentTask),1)])])])):u("",!0),F.analysisResult?(o(),v("div",{key:2,class:"result-section"},[d("div",{class:"card result-card"},[d("div",{class:"card-header"},[d("div",{class:"result-title"},"分析结果: "+m(F.analysisResult.fileName),1),d("div",{class:"result-actions"},[r(C,{class:"action-btn",onClick:I.exportResults},{default:s((()=>[r(T,{class:"btn-icon"},{default:s((()=>[g("💾")])),_:1}),g(" 导出 ")])),_:1},8,["onClick"]),r(C,{class:"action-btn",onClick:I.resetAnalysis},{default:s((()=>[r(T,{class:"btn-icon"},{default:s((()=>[g("🔄")])),_:1}),g(" 重新分析 ")])),_:1},8,["onClick"])])]),d("div",{class:"tabs"},[(o(!0),v(k,null,b(F.resultTabs,((e,s)=>(o(),v("div",{key:s,class:x(["tab",{active:F.activeTabIndex===s}]),onClick:e=>F.activeTabIndex=s},m(e.name),11,["onClick"])))),128))]),d("div",{class:"tab-content"},[0===F.activeTabIndex?(o(),v("div",{key:0,class:"tab-pane"},[d("div",{class:"summary-section"},[d("div",{class:"section-title"},[d("span",{class:"section-icon"},"📌"),g(" 文章要点 ")]),d("div",{class:"point-item"},[d("div",{class:"point-header"},"研究目的"),d("div",{class:"point-content"},m(F.analysisResult.purpose),1)]),d("div",{class:"point-item"},[d("div",{class:"point-header"},"研究方法"),d("div",{class:"point-content"},m(F.analysisResult.methodology),1)]),d("div",{class:"point-item"},[d("div",{class:"point-header"},"主要发现"),d("div",{class:"point-content"},m(F.analysisResult.findings),1)]),d("div",{class:"point-item"},[d("div",{class:"point-header"},"结论"),d("div",{class:"point-content"},m(F.analysisResult.conclusion),1)])])])):u("",!0),1===F.activeTabIndex?(o(),v("div",{key:1,class:"tab-pane"},[d("div",{class:"structure-section"},[d("div",{class:"section-title"},[d("span",{class:"section-icon"},"🔄"),g(" 文章思路 ")]),d("div",{class:"structure-tree"},[(o(!0),v(k,null,b(F.analysisResult.structure,((e,s)=>(o(),v("div",{key:s,class:x(["structure-item",`level-${e.level}`])},[e.level>0?(o(),v("div",{key:0,class:"structure-line"})):u("",!0),d("div",{class:"structure-content"},[d("div",{class:"structure-title"},m(e.title),1),d("div",{class:"structure-page"},"P"+m(e.page),1)])],2)))),128))])])])):u("",!0),2===F.activeTabIndex?(o(),v("div",{key:2,class:"tab-pane"},[d("div",{class:"research-section"},[d("div",{class:"section-title"},[d("span",{class:"section-icon"},"🧭"),g(" 研究方向 ")]),d("div",{class:"research-summary"},m(F.analysisResult.summary),1),d("div",{class:"keywords-container"},[d("div",{class:"keywords-group"},[d("div",{class:"group-title"},"主题关键词"),d("div",{class:"keywords-list"},[(o(!0),v(k,null,b(F.analysisResult.keywords.topics,((e,s)=>(o(),v("div",{key:s,class:"keyword-tag"},m(e),1)))),128))])]),d("div",{class:"keywords-group"},[d("div",{class:"group-title"},"方法关键词"),d("div",{class:"keywords-list"},[(o(!0),v(k,null,b(F.analysisResult.keywords.methods,((e,s)=>(o(),v("div",{key:s,class:"keyword-tag"},m(e),1)))),128))])]),d("div",{class:"related-work"},[d("div",{class:"group-title"},"相关文献"),d("div",{class:"reference-list"},[(o(!0),v(k,null,b(F.analysisResult.references,((e,s)=>(o(),v("div",{key:s,class:"reference-item"},[d("div",{class:"reference-number"},m(s+1),1),d("div",{class:"reference-text"},m(e),1)])))),128))])])])])])):u("",!0),3===F.activeTabIndex?(o(),v("div",{key:3,class:"tab-pane"},[d("div",{class:"model-section"},[d("div",{class:"section-title"},[d("span",{class:"section-icon"},"🔍"),g(" 文章模型图 ")]),d("div",{class:"model-visualization"},[d("div",{class:"model-center"},m(F.analysisResult.fileName),1),d("div",{class:"model-branches"},[d("div",{class:"model-branch"},[d("div",{class:"branch-line"}),d("div",{class:"branch-node purpose"},"研究目的"),d("div",{class:"branch-text"},m(I.formatShortText(F.analysisResult.purpose)),1)]),d("div",{class:"model-branch"},[d("div",{class:"branch-line"}),d("div",{class:"branch-node method"},"研究方法"),d("div",{class:"branch-text"},m(I.formatShortText(F.analysisResult.methodology)),1)]),d("div",{class:"model-branch"},[d("div",{class:"branch-line"}),d("div",{class:"branch-node findings"},"主要发现"),d("div",{class:"branch-text"},m(I.formatShortText(F.analysisResult.findings)),1)]),d("div",{class:"model-branch"},[d("div",{class:"branch-line"}),d("div",{class:"branch-node conclusion"},"结论"),d("div",{class:"branch-text"},m(I.formatShortText(F.analysisResult.conclusion)),1)])])])])])):u("",!0)])])])):u("",!0)])])),_:1},8,["functionItems","activeFunctionIndex","onFunctionSelected","onSendMessage","onSettingsClick"])])),_:1})}],["__scopeId","data-v-503f6e44"]]);export{T as default};
