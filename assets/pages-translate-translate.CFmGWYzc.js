import{a,w as t,n as e,J as s,K as n,s as i,L as l,M as o,D as c,E as r,m as u,i as d,p as g,o as h,b as p,q as m,u as T,g as f,N as v,O as L,h as y,e as x,f as C,t as _}from"./index-xJ6XffpG.js";import{C as k}from"./ChatLayout.CCL7FMtt.js";import{h as b}from"./request.DmWrvmgp.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";const I=S({components:{ChatLayout:k},data:()=>({functionItems:[{name:"é¦–é¡µ",icon:"ğŸ "},{name:"è®ºæ–‡åˆ†æåŠ©æ‰‹",icon:"ğŸ“Š"},{name:"æ–‡æœ¬ç¿»è¯‘åŠ©æ‰‹",icon:"ğŸŒ",starred:!0},{name:"ç§‘ç ”é—®ç­”åŠ©æ‰‹",icon:"ğŸ”"}],activeFunctionIndex:2,sourceLanguage:"zh",targetLanguage:"en",translationStyle:"academic",translatedText:"",isTranslating:!1,translationComplete:!1,translationId:null,errorMessage:"",inputPlaceholder:"è¾“å…¥éœ€è¦ç¿»è¯‘çš„æ–‡æœ¬..."}),methods:{handleFunctionSelected(a){if(this.activeFunctionIndex=a,this.functionItems[a]){const t=this.functionItems[a].name;"é¦–é¡µ"===t?e({url:"/pages/home/home"}):"è®ºæ–‡åˆ†æåŠ©æ‰‹"===t?e({url:"/pages/analysis/analysis"}):"ç§‘ç ”é—®ç­”åŠ©æ‰‹"===t&&u({url:"/pages/qa/qa"})}},swapLanguages(){const a=this.sourceLanguage;this.sourceLanguage=this.targetLanguage,this.targetLanguage=a,this.translatedText&&(this.translatedText="",this.translationComplete=!1)},async handleTranslateText(a){if(a&&a.trim()&&!this.isTranslating){this.isTranslating=!0,this.errorMessage="",this.translationComplete=!1;try{c({title:"ç¿»è¯‘ä¸­...",mask:!0});const t=await b.post("/translate",{text:a,sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage,style:this.translationStyle});r(),t.data&&(this.translatedText=t.data.translatedText,this.translationId=t.data.translationId,this.translationComplete=!0,this.saveTranslationHistory(a,this.translatedText))}catch(t){console.error("ç¿»è¯‘è¯·æ±‚å¤±è´¥:",t),this.errorMessage=t.message||"ç¿»è¯‘å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",r(),this.useLocalTranslation(a),i({title:"ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°ç¿»è¯‘",icon:"none",duration:2e3})}finally{this.isTranslating=!1}}},useLocalTranslation(a){setTimeout((()=>{"zh"===this.sourceLanguage&&"en"===this.targetLanguage?this.translatedText="This is the translated text from Chinese to English. The translation maintains academic terminology and ensures accurate semantic conversion.":"en"===this.sourceLanguage&&"zh"===this.targetLanguage?this.translatedText="è¿™æ˜¯ä»è‹±æ–‡ç¿»è¯‘æˆä¸­æ–‡çš„æ–‡æœ¬ã€‚ç¿»è¯‘ä¿ç•™äº†å­¦æœ¯æœ¯è¯­å¹¶ç¡®ä¿äº†å‡†ç¡®çš„è¯­ä¹‰è½¬æ¢ã€‚":this.translatedText=a+" (ç¿»è¯‘å¤±è´¥ï¼Œå½“å‰åªæ”¯æŒä¸­è‹±æ–‡äº’è¯‘)",this.translationComplete=!0}),800)},saveTranslationHistory(a,t){try{const e=l("translation_history")||[];e.unshift({id:this.translationId||Date.now(),sourceText:a,translatedText:t,sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage,style:this.translationStyle,timestamp:(new Date).toISOString()});const s=e.slice(0,50);o("translation_history",s)}catch(e){console.error("ä¿å­˜ç¿»è¯‘å†å²å¤±è´¥:",e)}},saveToHistory(){if(!this.translatedText)return;const a=this.$refs.chatLayout.inputText;this.saveTranslationHistory(a,this.translatedText),i({title:"å·²ä¿å­˜åˆ°å†å²è®°å½•",icon:"success",duration:1500})},copyTranslatedText(){n({data:this.translatedText,success:()=>{i({title:"å·²å¤åˆ¶åˆ°å‰ªè´´æ¿",icon:"success"})}})},clearText(){this.$refs.chatLayout&&(this.$refs.chatLayout.inputText="")},pasteFromClipboard(){s({success:a=>{this.$refs.chatLayout&&a.data&&(this.$refs.chatLayout.inputText=a.data)}})},navigateToHistory(){e({url:"/pages/translate/history"})},handleSettingsClick(){e({url:"/pages/account/account"})},getLanguageName:a=>({zh:"ä¸­æ–‡",en:"è‹±æ–‡"}[a]||a)}},[["render",function(e,s,n,i,l,o){const c=x,r=y,u=g("ChatLayout"),k=d;return h(),a(k,{class:"page-container"},{default:t((()=>[p(u,{ref:"chatLayout",appTitle:"ç§‘ç ”åŠ©æ‰‹",functionItems:l.functionItems,activeFunctionIndex:l.activeFunctionIndex,onFunctionSelected:o.handleFunctionSelected,onSendMessage:o.handleTranslateText,onSettingsClick:o.handleSettingsClick,inputPlaceholder:l.inputPlaceholder},{"header-actions":t((()=>[p(r,{class:"action-button",onClick:o.navigateToHistory,title:"ç¿»è¯‘å†å²"},{default:t((()=>[p(c,{class:"action-icon"},{default:t((()=>[C("ğŸ“‹")])),_:1})])),_:1},8,["onClick"])])),"input-actions-left":t((()=>[p(r,{class:"action-button input-action-button",onClick:o.clearText,title:"æ¸…ç©ºæ–‡æœ¬"},{default:t((()=>[p(c,{class:"input-action-icon"},{default:t((()=>[C("ğŸ—‘ï¸")])),_:1})])),_:1},8,["onClick"]),p(r,{class:"action-button input-action-button",onClick:o.pasteFromClipboard,title:"ä»å‰ªè´´æ¿ç²˜è´´"},{default:t((()=>[p(c,{class:"input-action-icon"},{default:t((()=>[C("ğŸ“‹")])),_:1})])),_:1},8,["onClick"])])),"input-actions-right":t((()=>[p(r,{class:"send-button",onClick:s[3]||(s[3]=a=>o.handleTranslateText(e.$refs.chatLayout.inputText)),disabled:l.isTranslating},{default:t((()=>[C(_(l.isTranslating?"ç¿»è¯‘ä¸­...":"ç¿»è¯‘"),1)])),_:1},8,["disabled"])])),default:t((()=>[m("div",{class:"translate-container"},[m("div",{class:"card main-card"},[m("div",{class:"card-title"},"å­¦æœ¯æ–‡æœ¬ç¿»è¯‘"),m("div",{class:"language-selector"},[m("div",{class:"language-group"},[m("div",{class:"language-label"},"æºè¯­è¨€"),m("div",{class:"select-wrapper"},[v(m("select",{class:"language-select","onUpdate:modelValue":s[0]||(s[0]=a=>l.sourceLanguage=a)},[m("option",{value:"zh"},"ä¸­æ–‡"),m("option",{value:"en"},"è‹±æ–‡")],512),[[L,l.sourceLanguage]])])]),p(r,{class:"swap-button",onClick:o.swapLanguages,title:"äº¤æ¢è¯­è¨€"},{default:t((()=>[p(c,{class:"swap-icon"},{default:t((()=>[C("ğŸ”„")])),_:1})])),_:1},8,["onClick"]),m("div",{class:"language-group"},[m("div",{class:"language-label"},"ç›®æ ‡è¯­è¨€"),m("div",{class:"select-wrapper"},[v(m("select",{class:"language-select","onUpdate:modelValue":s[1]||(s[1]=a=>l.targetLanguage=a)},[m("option",{value:"zh"},"ä¸­æ–‡"),m("option",{value:"en"},"è‹±æ–‡")],512),[[L,l.targetLanguage]])])]),m("div",{class:"style-selector"},[m("div",{class:"language-label"},"ç¿»è¯‘é£æ ¼"),m("div",{class:"select-wrapper"},[v(m("select",{class:"language-select","onUpdate:modelValue":s[2]||(s[2]=a=>l.translationStyle=a)},[m("option",{value:"academic"},"å­¦æœ¯é£æ ¼"),m("option",{value:"casual"},"æ—¥å¸¸é£æ ¼")],512),[[L,l.translationStyle]])])])]),m("div",{class:"description"}," æˆ‘ä»¬çš„ç¿»è¯‘ç³»ç»Ÿä¸“ä¸ºç§‘ç ”å·¥ä½œè€…è®¾è®¡ï¼Œå¯å‡†ç¡®ç¿»è¯‘ä¸­è‹±æ–‡å­¦æœ¯æ–‡çŒ®ã€è®ºæ–‡æ‘˜è¦å’Œä¸“ä¸šæœ¯è¯­ï¼Œä¿ç•™ä¸“ä¸šæ€§å’Œå­¦æœ¯é£æ ¼ã€‚ "),m("div",{class:"features"},[m("div",{class:"feature-tag"},"âœ“ ä¿ç•™ä¸“ä¸šæœ¯è¯­"),m("div",{class:"feature-tag"},"âœ“ å‡†ç¡®è¯­ä¹‰è½¬æ¢"),m("div",{class:"feature-tag"},"âœ“ å­¦æœ¯æ–‡ä½“è½¬æ¢"),m("div",{class:"feature-tag"},"âœ“ ä¸­è‹±æ–‡äº’è¯‘")])]),l.translatedText?(h(),T("div",{key:0,class:"card result-card"},[m("div",{class:"card-title"},"ç¿»è¯‘ç»“æœ"),m("div",{class:"result-content"},_(l.translatedText),1),m("div",{class:"result-actions"},[p(r,{class:"action-btn",onClick:o.copyTranslatedText},{default:t((()=>[p(c,{class:"btn-icon"},{default:t((()=>[C("ğŸ“‹")])),_:1}),C(" å¤åˆ¶ ")])),_:1},8,["onClick"]),p(r,{class:"action-btn",onClick:o.saveToHistory},{default:t((()=>[p(c,{class:"btn-icon"},{default:t((()=>[C("ğŸ’¾")])),_:1}),C(" ä¿å­˜ ")])),_:1},8,["onClick"])]),l.translationComplete?(h(),T("div",{key:0,class:"translation-info"},[m("div",{class:"info-item"},_(o.getLanguageName(l.sourceLanguage))+" â†’ "+_(o.getLanguageName(l.targetLanguage)),1),m("div",{class:"info-item"},_("academic"===l.translationStyle?"å­¦æœ¯é£æ ¼":"æ—¥å¸¸é£æ ¼"),1)])):f("",!0)])):f("",!0)])])),_:1},8,["functionItems","activeFunctionIndex","onFunctionSelected","onSendMessage","onSettingsClick","inputPlaceholder"])])),_:1})}],["__scopeId","data-v-d8bd9e07"]]);export{I as default};
